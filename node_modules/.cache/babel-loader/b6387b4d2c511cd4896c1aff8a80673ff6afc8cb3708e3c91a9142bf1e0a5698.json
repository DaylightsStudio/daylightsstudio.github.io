{"ast":null,"code":"import _slicedToArray from\"/home/maxime/Documents/GitHub/daylightsstudio.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from\"react\";import videoIntro from'./videos/teaser_titans_card.mp4';import videoLoop from'./videos/triangle.mp4';import'./VideoAutoPlay.css';// \n// TOUT LE AUTOPLAY DE https://stackoverflow.com/a/72444123\n// \n// const videoIntro = \"https://www.w3schools.com/tags/movie.mp4\";\n// const videoLoop = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VideoAutoPlay(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),vidIndex=_useState2[0],setVidIndex=_useState2[1];var ref=useRef(null);useEffect(function(){if(vidIndex===0&&ref.current){ref.current.play();}},[ref,vidIndex]);return/*#__PURE__*/_jsxs(\"div\",{className:\"containerVideo\",children:[/*#__PURE__*/_jsx(\"video\",{id:\"videoBg\",style:{display:vidIndex===1?\"none\":\"block\"},autoPlay:true,muted:true,onEnded:function onEnded(){return setVidIndex(function(idx){return idx+1;});},children:/*#__PURE__*/_jsx(\"source\",{src:videoIntro,type:\"video/webm\"})}),/*#__PURE__*/_jsx(\"video\",{id:\"videoBg\",style:{display:vidIndex===0?\"none\":\"block\"},src:videoLoop,muted:true,loop:true,autoPlay:true,ref:ref,type:\"video/mp4\"})]});}export default VideoAutoPlay;","map":{"version":3,"names":["useEffect","useState","useRef","videoIntro","videoLoop","VideoAutoPlay","vidIndex","setVidIndex","ref","current","play","display","idx"],"sources":["/home/maxime/Documents/GitHub/daylightsstudio.github.io/src/components/VideoAutoPlay/VideoAutoPlay.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport videoIntro from './videos/teaser_titans_card.mp4'\nimport videoLoop from './videos/triangle.mp4'\nimport './VideoAutoPlay.css'\n\n// \n// TOUT LE AUTOPLAY DE https://stackoverflow.com/a/72444123\n// \n\n// const videoIntro = \"https://www.w3schools.com/tags/movie.mp4\";\n// const videoLoop = \"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4\";\n\nfunction VideoAutoPlay() {\n  const [vidIndex, setVidIndex] = useState(0);\n  const ref = useRef(null);\n  useEffect(() => {\n    if (vidIndex === 0 && ref.current) {\n      ref.current.play();\n    }\n  }, [ref, vidIndex]);\n  return (\n    <div className=\"containerVideo\">\n      <video\n        id=\"videoBg\"\n        style={{ display: vidIndex === 1 ? \"none\" : \"block\" }}\n        autoPlay\n        muted\n        onEnded={() => setVidIndex((idx) => idx + 1)}>\n          <source src={videoIntro} type=\"video/webm\"/>\n        </video>\n      <video\n        id=\"videoBg\"\n        style={{ display: vidIndex === 0 ? \"none\" : \"block\" }}\n        src={videoLoop}\n        muted\n        loop\n        autoPlay\n        ref={ref}\n        type=\"video/mp4\"\n      />\n    </div>\n  );\n}\n\nexport default VideoAutoPlay"],"mappings":"6IAAA,OAASA,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CACnD,MAAOC,WAAU,KAAM,iCAAiC,CACxD,MAAOC,UAAS,KAAM,uBAAuB,CAC7C,MAAO,qBAAqB,CAE5B;AACA;AACA;AAEA;AACA;AAAA,wFAEA,QAASC,cAAa,EAAG,CACvB,cAAgCJ,QAAQ,CAAC,CAAC,CAAC,wCAApCK,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,IAAG,CAAGN,MAAM,CAAC,IAAI,CAAC,CACxBF,SAAS,CAAC,UAAM,CACd,GAAIM,QAAQ,GAAK,CAAC,EAAIE,GAAG,CAACC,OAAO,CAAE,CACjCD,GAAG,CAACC,OAAO,CAACC,IAAI,EAAE,CACpB,CACF,CAAC,CAAE,CAACF,GAAG,CAAEF,QAAQ,CAAC,CAAC,CACnB,mBACE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,cACE,EAAE,CAAC,SAAS,CACZ,KAAK,CAAE,CAAEK,OAAO,CAAEL,QAAQ,GAAK,CAAC,CAAG,MAAM,CAAG,OAAQ,CAAE,CACtD,QAAQ,MACR,KAAK,MACL,OAAO,CAAE,yBAAMC,YAAW,CAAC,SAACK,GAAG,QAAKA,IAAG,CAAG,CAAC,GAAC,EAAC,uBAC3C,eAAQ,GAAG,CAAET,UAAW,CAAC,IAAI,CAAC,YAAY,EAAE,EACtC,cACV,cACE,EAAE,CAAC,SAAS,CACZ,KAAK,CAAE,CAAEQ,OAAO,CAAEL,QAAQ,GAAK,CAAC,CAAG,MAAM,CAAG,OAAQ,CAAE,CACtD,GAAG,CAAEF,SAAU,CACf,KAAK,MACL,IAAI,MACJ,QAAQ,MACR,GAAG,CAAEI,GAAI,CACT,IAAI,CAAC,WAAW,EAChB,GACE,CAEV,CAEA,cAAeH,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}